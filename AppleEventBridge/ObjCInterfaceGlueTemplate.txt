//
// «GLUE_NAME»
// «APP_NAME» «APP_VERSION»
// «FRAMEWORK_NAME» «FRAMEWORK_VERSION»
//

#import <Foundation/Foundation.h>
#import "AppleEventBridge/AppleEventBridge.h"


// TO DO: finish API revisions (e.g. should symbol namespace drop 'k' prefix and provide app, con, its constructors as in Swift glues?)

// Generic specifier roots. These can be used to construct «PREFIX»Specifiers for use in other «PREFIX»Specifiers and «PREFIX»Commands,
// though only real specifiers constructed from a «PREFIX»Application can be used to send commands to the target application.

#define «PREFIX»App ([«PREFIX»Specifier specifierWithAppData: nil aemQuery: AEMApp])
#define «PREFIX»Con ([«PREFIX»Specifier specifierWithAppData: nil aemQuery: AEMCon])
#define «PREFIX»Its ([«PREFIX»Specifier specifierWithAppData: nil aemQuery: AEMIts])

// Symbol namespace // TO DO: is macro appropriate?
#define «PREFIX» «PREFIX»Symbol

// Convenience constructor for application objects.
// TO DO: once created, Application instance should be cached and reused, and only recreated if app is no longer running
#define «APP_VAR_NAME» ([«PREFIX»Application application])


// Classes

@interface «PREFIX»Formatter : AEBStaticFormatter
@end


@interface «PREFIX»Symbol : AEBStaticSymbol
// Types and properties
«+ENUM_SYMBOL»
+ (instancetype)«NAME»;
«-ENUM_SYMBOL»
// Enumerators
«+TYPE_SYMBOL»
+ (instancetype)«NAME»;
«-TYPE_SYMBOL»
@end

«+COMMAND»

@interface «PREFIX»«CAP_NAME»Command : AEBStaticCommand
«+PARAMETER»
- (instancetype)«NAME»:(id)value;
«-PARAMETER»
@end
«-COMMAND»


@interface «PREFIX»Specifier : AEBStaticSpecifier
// Properties
«+PROPERTY_SPECIFIER»
- (instancetype)«NAME»;
«-PROPERTY_SPECIFIER»
// Elements
«+ELEMENTS_SPECIFIER»
- (instancetype)«NAME»;
«-ELEMENTS_SPECIFIER»
// Commands
«+COMMAND»
- («PREFIX»«CAP_NAME»Command *)«COMMAND_NAME»;
- («PREFIX»«CAP_NAME»Command *)«COMMAND_NAME»:(id)directParameter;
«-COMMAND»
@end


@interface «PREFIX»Application : «PREFIX»Specifier
// note: clients shouldn't need to call -initWithTargetType:data: themselves
- (instancetype)initWithTargetType:(AEBTargetType)targetType_ data:(id)targetData_;
// initialisers
+ (instancetype)application;
+ (instancetype)currentApplication;
+ (instancetype)applicationWithName:(NSString *)name;
+ (instancetype)applicationWithURL:(NSURL *)url;
+ (instancetype)applicationWithBundleID:(NSString *)bundleID;
+ (instancetype)applicationWithProcessID:(pid_t)pid;
+ (instancetype)applicationWithDescriptor:(NSAppleEventDescriptor *)desc;
- (instancetype)init;
- (instancetype)initCurrentApplication;
- (instancetype)initWithName:(NSString *)name;
- (instancetype)initWithURL:(NSURL *)url;
- (instancetype)initWithBundleID:(NSString *)bundleID;
- (instancetype)initWithProcessID:(pid_t)pid;
- (instancetype)initWithDescriptor:(NSAppleEventDescriptor *)desc;
// misc
- («PREFIX»Specifier *)customRoot:(id)object;
@end


